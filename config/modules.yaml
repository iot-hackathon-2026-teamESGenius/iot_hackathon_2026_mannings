# 模块配置
# 适配前端技术栈: Vue3 + uniapp + uniCloud

modules:
  # 数据获取模块
  data_fetcher:
    class: "src.modules.data.implementations.simulated_data_fetcher.SimulatedDataFetcher"
    config:
      data_path: "data/synthetic/"
      cache_enabled: true
    enabled: true
    singleton: true
  
  # 距离计算器
  distance_calculator:
    class: "src.modules.distance.implementations.euclidean_calculator.EuclideanDistanceCalculator"
    config:
      cache_enabled: true
    enabled: true
    singleton: true
  
  # 需求预测器
  demand_forecaster:
    class: "src.modules.forecasting.implementations.prophet_forecaster.ProphetForecaster"
    config:
      seasonality_mode: "multiplicative"
      changepoint_prior_scale: 0.05
    enabled: true
    singleton: true
  
  # 路径优化器
  routing_optimizer:
    class: "src.modules.routing.implementations.ortools_optimizer.ORToolsRoutingOptimizer"
    config:
      time_limit_seconds: 60
      robustness_level: 0.9
    enabled: true
    singleton: true
  
  # 库存优化器
  inventory_optimizer:
    class: "src.modules.inventory.implementations.safety_stock_optimizer.SafetyStockOptimizer"
    config:
      default_service_level: 0.95
    enabled: true
    singleton: true
  
  # SLA预测器
  sla_predictor:
    class: "src.modules.sla.implementations.probabilistic_sla_predictor.ProbabilisticSLAPredictor"
    config:
      confidence_level: 0.95
      include_weather_impact: true
    enabled: true
    singleton: true
  
  # 可视化 (Streamlit Dashboard - 内部使用)
  visualization:
    class: "src.modules.visualization.implementations.streamlit_dashboard.StreamlitDashboard"
    config:
      theme: "light"
      page_title: "Mannings SLA Optimization"
    enabled: true
    singleton: true

# 环境变量
environment:
  GOOGLE_MAPS_API_KEY: "${GOOGLE_MAPS_API_KEY}"
  HKO_API_KEY: "${HKO_API_KEY}"

# API服务配置 (适配前端Vue3+uniapp)
api:
  host: "0.0.0.0"
  port: 8000
  cors_origins:
    - "http://localhost:*"
    - "http://127.0.0.1:*"
    - "https://*.unicloud.dcloud.net.cn"
  docs_enabled: true
  
# 前端集成配置
frontend:
  tech_stack: "Vue3 + uniapp + uniCloud"
  brand_color: "#0066CC"  # 万宁品牌蓝
  supported_roles:
    - store_inventory  # 门店库存管理
    - logistics        # 物流配送团队
    - admin           # 系统管理员

# ==============================================================================
# 智能体系统配置 (Stage 2 预留)
# ==============================================================================
# 详细配置见: config/agents.yaml
agents:
  enabled: false  # Stage 2启用时设为true
  config_file: "config/agents.yaml"
  modules:
    demand_forecast_agent:
      class: "src.agents.implementations.demand_forecast_agent.DemandForecastAgent"
      enabled: false
      depends_on: ["demand_forecaster"]
    inventory_optimization_agent:
      class: "src.agents.implementations.inventory_agent.InventoryOptimizationAgent"
      enabled: false
      depends_on: ["inventory_optimizer"]
    routing_dispatch_agent:
      class: "src.agents.implementations.routing_agent.RoutingDispatchAgent"
      enabled: false
      depends_on: ["routing_optimizer", "distance_calculator"]
    sla_alert_agent:
      class: "src.agents.implementations.sla_alert_agent.SLAAlertAgent"
      enabled: false
      depends_on: ["sla_predictor"]
    multi_agent_coordinator:
      class: "src.agents.implementations.coordinator.MultiAgentCoordinator"
      enabled: false
      depends_on: []
